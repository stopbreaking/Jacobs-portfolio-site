{"version":3,"file":"uph_ng_library-_lJtfTjz.js","sources":["../../../_frontend/entrypoints/assets/I-cant-stop/html5game/uph_ng_library.js"],"sourcesContent":["var ngio;\r\n\r\nfunction onLoggedIn() {\r\n    console.log(\"Welcome \" + ngio.user.name + \"!\");\r\n}\r\n\r\nfunction onLoginFailed() {\r\n    console.log(\"There was a problem logging in: \" . ngio.login_error.message );\r\n}\r\n\r\nfunction onLoginCancelled() {\r\n    console.log(\"The user cancelled the login.\");\r\n}\r\n\r\nfunction ng_request_login() {\r\n\tngio.getValidSession(function() {\r\n\t\t        if (ngio.user) {\r\n            onLoggedIn();\r\n        }\r\n\tif (!ngio.user) {\r\n    ngio.requestLogin(onLoggedIn, onLoginFailed, onLoginCancelled);\r\n\t}\r\n\t});\r\n}\r\n\r\nfunction ng_cancel_login() {\r\n    ngio.cancelLoginRequest();\r\n}\r\n\r\nfunction ng_logOut() {\r\n\tif (ngio.user) {\r\n    ngio.logOut();\r\n\t}\r\n}\r\n\r\nfunction ng_connect(app_id, encryption_key){\r\n\tngio = new Newgrounds.io.core(app_id, encryption_key);\r\n}\r\n\r\n/* medal vars */\r\nvar medals, scoreboards;\r\nvar medalDOM = document.createElement(\"div\");\r\n\r\n/* handle loaded medals */\r\nfunction onMedalsLoaded(result) {\r\n    if (result.success) medals = result.medals;\r\n}\r\n\r\n/* handle loaded scores */\r\nfunction onScoreboardsLoaded(result) {\r\n    if (result.success) scoreboards = result.scoreboards;\r\n    console.log(scoreboards);\r\n}\r\n\r\n\r\nfunction ng_initialize(){\r\n\r\n\t/*load medals and scoreboards from the server */\r\n\tngio.queueComponent(\"ScoreBoard.getBoards\", {}, onScoreboardsLoaded);\r\n\tngio.queueComponent(\"Medal.getList\", {}, onMedalsLoaded);\r\n\tngio.executeQueue();\r\n\r\n    /* setup medalcarrier */\r\n    _createMedalUI();\r\n\t\r\n}\r\n\r\n/* load our medals  from the server */\r\nvar _loadMedals = function(){\t\r\n\tngio.queueComponent(\"Medal.getList\", {}, onMedalsLoaded);\r\n\tngio.executeQueue();\r\n}\r\n\r\nvar _createMedalUI = function(){\r\n\r\n  // Creates the DOM with a medal carrier that is supposed to resemble the newgrounds version\r\n  document.body.appendChild(medalDOM);\r\n  medalDOM.innerHTML = \r\n        \"<div id='medal_container' style=\"+\r\n\t        \"'position:absolute; \"+\r\n\t        \"background-color: rgb(5, 6, 9);\"+\r\n\t        \"border: 7px solid  rgb(185, 163, 105);\"+\r\n\t        \"width:270px; \"+\r\n\t        \"height:70px; \"+\r\n\t        \"top: 51px; \"+\r\n\t        \"left: -310px; \"+\r\n\t        \"overflow:hidden; \"+\r\n\t        \"-webkit-transition:left 0.5s ease;\"+\r\n\t        \" -moz-transition:left 0.5s ease;\"+\r\n\t        \" -ms-transition:left 0.5s ease; \"+\r\n\t        \"-o-transition:left 0.5s ease;\"+\r\n\t        \"<div id = 'inner_medal' style = \"+\r\n        \t\t\"'left : -1px; \"+\r\n        \t\t\"position: relative;'>\"+\r\n    \t\t\t\"<div id = 'medal_icon' style = \"+\r\n    \t\t\t\"'background-color: rgb(5, 6, 9); \"+\r\n    \t\t\t\"border: 3.5px ridge  rgb(57, 55, 61);\"+\r\n    \t\t\t\"width: 59px; \"+\r\n    \t\t\t\"height: 59px; \"+ \r\n    \t\t\t\"left: 3px; \"+\r\n    \t\t\t\"top: 3px; \"+ \r\n    \t\t\t\"position: relative;'>\"+\r\n                \"<img id = 'icon' style = \"+\r\n                \t\"'border: 3px solid \"+\r\n                \t\"rgb(57, 55, 61); \"+\r\n                \t\"width: 48px; \"+\r\n                \t\"height: 48px; \"+\r\n                \t\"left: 1px; \"+\r\n                \t\"top: 1px; \"+\r\n                \t\"position: relative;'\"+\r\n                \t\"src = ''>\"+\r\n        \t\t\"</div>\"+  \r\n    \t       \t\"<div id = 'medal_describer' style = \"+\r\n        \t\t\"'background-color: rgb(5, 6, 9); \" +\r\n\t        \t\"border: 3.5px ridge  rgb(57, 55, 61); \"+\r\n\t        \t\"width: 196px; \"+\r\n\t        \t\"height: 39px; \"+\r\n\t        \t\"left: 66px; \"+\r\n\t        \t\"top: -43px; \"+\r\n           \t\t\"position: relative;'>\"+\r\n                \t\"<div id = 'space' style = \"+\r\n\t                \t\"'background-color: rgb(39, 39, 47);\"+\r\n\t                \t\" width: 191px; \"+\r\n\t                \t\" height: 35px; \"+\r\n\t                \t\" line-height: 36px;\"+\r\n\t                \t\" text-align: center;\"+\r\n\t                \t\" left: 1px;\"+\r\n\t                \t\" top: 0px;\"+\r\n\t                \t\" position: relative; '> \"+ \r\n\t\t\t\t\t    \"<span id = 'medal_description' style = \"+\r\n\t\t\t\t\t    \t\"'/*font*/\"+\r\n\t\t\t\t\t    \t\"font-family: arial;\"+\r\n\t\t\t\t\t    \t\"font-weight: 720;\"+\r\n\t\t\t\t\t    \t\"font-weight: 720;\"+\r\n\t\t\t\t\t    \t\"font-size : 12px;\"+\r\n\t\t\t\t\t    \t\" /*text*/\"+\r\n\t\t\t\t\t    \t\"letter-spacing: 0.5px;\"+\r\n\t\t\t\t\t    \t\"color: rgb(238, 240, 254);'> Sabooo\"+\r\n\t\t\t\t\t    \"</span>\"+       \r\n\t                \"</div>\"+\r\n\t            \"</div>\"+\r\n                \"<div id = 'medal_headup' style =\"+\r\n\t\t\t\t\t\"'background-color: rgb(5, 6, 9);\"+\r\n\t\t\t\t\t\" border: 3.5px ridge  rgb(57, 55, 61);\"+\r\n\t\t\t\t\t\" width: 196px;\"+\r\n\t\t\t\t\t\" height: 22px;\"+\r\n\t\t\t\t\t\" left: 66px;\"+\r\n\t\t\t\t\t\" top: -109px;\"+\r\n\t\t\t\t\t\" position: relative;'>\"+ \r\n\t           \t\t\" <div id = 'medal_feedback' style = \"+\r\n\t           \t\t\t\"' background-color: rgb(18, 15, 20);\"+\r\n\t           \t\t\t\" border: 2px solid  rgb(39, 39, 47);\" +\r\n\t           \t\t\t\" width: 187px;\" +\r\n\t \t\t\t\t\t\" height: 15px;\"+\r\n\t \t\t\t\t\t\" line-height: 12px;\"+\r\n\t \t\t\t\t\t\" left: 1px;\"+\r\n\t \t\t\t\t\t\" top: 0px;\"+\r\n\t \t\t\t\t\t\" position: relative;'>\"+\r\n\t \t\t\t\t\t\"<span id= 'feedback' style = \"+\r\n\t \t\t\t\t\t\t\"'  /*font*/\"+\r\n\t \t\t\t\t\t\t\"font-family: arial;\"+\r\n\t \t\t\t\t\t\t\"font-weight: 750;\"+\r\n\t \t\t\t\t\t\t\"font-size : 11px;\"+\r\n\t \t\t\t\t\t\t\"/*text*/\"+\r\n\t \t\t\t\t\t\t\"position: relative;\"+\r\n\t \t\t\t\t\t\t\"left: 9px;\"+\r\n\t \t\t\t\t\t\t\"text-transform: uppercase;\"+\r\n\t \t\t\t\t\t\t\"letter-spacing: 0.5px;\"+\r\n\t \t\t\t\t\t\t\" color: rgb(224, 192, 9);'>medal get!\"+\r\n\t \t\t\t\t\t\"</span>\"+\r\n\t\t\t\t\t\t\"<span id= 'medal_value' style = \"+\r\n\t\t\t\t\t\t\t\"'/*font*/\"+\r\n\t\t\t\t\t\t\t\"font-family: arial;\"+\r\n\t\t\t\t\t\t\t\"font-weight: 720;\"+\r\n\t\t\t\t\t\t\t\"font-size : 11px;\"+\r\n\t\t\t\t\t\t\t\"/*text*/\"+\r\n\t\t\t\t\t\t\t\"position: relative;\"+\r\n\t\t\t\t\t\t\t\"left: 64px;\"+\r\n\t\t\t\t\t\t\t\"letter-spacing: 0.5px;\"+\r\n\t\t\t\t\t\t\t\"color: rgb(93, 93, 99);'>25pts\"+\r\n\t\t\t\t\t\t\"</span>\"+\r\n\t\t\t\t\t\" </div>\"+\r\n\t\t\t\t\"</div>\"+\r\n        \t\"</div>\"+\r\n        \"</div>\";\r\n};\r\n\r\n\r\n/*Displays the medal carrier on the screen by transitioning it on the screen\r\nand writes the medal details on the carrier */\r\nvar _showMedal = function(medal){\r\n\r\n \tvar medal_container = document.getElementById('medal_container');\r\n    medal_container.style.left = '10px';\r\n    setTimeout(function(){\r\n        medal_container.style.left = '-310px';\r\n    },2000);\r\n    \r\n    document.getElementById('icon').src = medal.icon;\r\n    document.getElementById('medal_description').innerHTML = medal.name;\r\n    var points = [\"bogus\", \"5\", \"10\", \"25\", \"50\", \"100\"];\r\n    document.getElementById('medal_value').innerHTML = points[medal.difficulty] + \"pts\";\r\n};\r\n\r\n\r\nvar to_unlock = []\r\n\r\nfunction ng_unlockmedal(medal_name) {\r\n\r\n   \r\n\t /* If there is no user attached to our ngio object, it means the user isn't logged in and we can't post anything */\r\n    if (!ngio.user) return;\r\n\r\n\r\n    for (var i = 0; i < medals.length; i++) {\r\n\r\n        var medal = medals[i];\r\n\r\n        /* look for a matching medal name */\r\n        if (medal.name == medal_name || medal.id == medal_name) {\r\n\r\n    \t\t// Unlock and display if it's not unlocked yet\r\n    \t\tif(!medal.unlocked){\r\n    \t\t\tto_unlock.push(medal);\r\n\t\t\t\tsetTimeout(function(){ \r\n\t\t\t\t\t_showMedal(medal);\r\n\t\t\t\t\t_loadMedals();\r\n\t\t\t\t\tto_unlock.pop(); \r\n\t\t\t\t\t\t\t/* unlock the medal from the server */\r\n\t\t\t                ngio.callComponent('Medal.unlock', {id:medal.id});   \r\n\t\t\t\t\t}, \r\n\r\n\t\t\t\t\t2500 * (to_unlock.length - 1));\t\r\n        \t}\r\n  \r\n            // I use this return value inside gamemaker to play the audio effect at the right time\r\n            var sfxTimeout = 2500 * (to_unlock.length - 1);\r\n            if(medal.unlocked) sfxTimeout = -1;\r\n            return sfxTimeout;      \t\r\n        }\r\n\t}\r\n  }\r\n\r\nfunction ng_postScore(board_id, score_value) {\r\n\tif (!ngio.user) return;\r\n\r\n\tvar score;\r\n\r\n\tfor (var i = 0; i < scoreboards.length; i++) {\r\n\t\tscoreboard = scoreboards[i];\r\n\t\tif(board_id == scoreboard.id || board_id == scoreboard.name){\r\n\t\t\tngio.callComponent('ScoreBoard.postScore', {id:scoreboard.id, value:score_value});\t        \r\n\t    }\r\n\t}\r\n}\r\n\r\nfunction ng_getScores(board_app_id,board_id,board_limit,board_period,board_skip,board_social,board_tag,user_id_or_name) {\r\n\tif (!ngio.user) return \"\";\r\n\r\n\tfor (var i = 0; i < scoreboards.length; i++) {\r\n\t\tscoreboard = scoreboards[i];\r\n\t\tif(board_id == scoreboard.id || board_id == scoreboard.name) {\r\n\t\t\tthescoreboard = ngio.callComponent('ScoreBoard.getScores', {app_id:board_app_id, id:scoreboard.id, limit:board_limit, period:board_period, skip:board_skip, social:board_social, tag:board_tag, user:user_id_or_name});\t        \r\n\t\t\treturn thescoreboard;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\tfunction ng_check_supporter() {\r\n\t\tif (!ngio.user){\r\n\t\t\treturn \"false\";\r\n\t\t}\r\n\t\tif (ngio.user){\r\n\t\t\treturn ngio.user.supporter;\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction ng_get_username() {\r\n\t\tif (!ngio.user){\r\n\t\t\treturn \"\";\r\n\t\t}\r\n\t\tif (ngio.user){\r\n\t\t\treturn ngio.user.name;\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction ng_get_small_usericon() {\r\n\t\tif (!ngio.user){\r\n\t\t\treturn \"\";\r\n\t\t}\r\n\t\tif (ngio.user){\r\n\t\t\treturn ngio.user.icons.small;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction ng_get_medium_usericon() {\r\n\t\tif (!ngio.user){\r\n\t\t\treturn \"\";\r\n\t\t}\r\n\t\tif (ngio.user){\r\n\t\t\treturn ngio.user.icons.medium;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction ng_get_large_usericon() {\r\n\t\tif (!ngio.user){\r\n\t\t\treturn \"\";\r\n\t\t}\r\n\t\tif (ngio.user){\r\n\t\t\treturn ngio.user.icons.large;\r\n\t\t}\r\n\t}\r\n\r\nfunction ng_loadReferral(host_url, referralname){\r\n\tngio.callComponent('Loader.loadReferral', {host:host_url, referral_name:referralname});\r\n}\r\n\r\nfunction ng_logEvent(eventname, host_url){\r\n\tngio.callComponent('Event.logEvent', {event_name:eventname, host:host_url});\r\n}\r\n\r\nfunction ng_loadAuthorUrl(host_url){\r\n\tngio.callComponent('Loader.loadAuthorUrl', {host:host_url});\r\n}\r\nfunction ng_loadNewgrounds(host_url){\r\n\tngio.callComponent('Loader.loadNewgrounds', {host:host_url});\r\n}\r\nfunction ng_logView(host_url){\r\n\tngio.callComponent('App.logView', {host:host_url});\r\n}\r\nfunction ng_loadMoreGames(host_url){\r\n\tngio.callComponent('Loader.loadMoreGames', {host:host_url});\r\n}\r\nfunction ng_loadOfficialUrl(host_url){\r\n\tngio.callComponent('Loader.loadOfficialUrl', {host:host_url});\r\n}\r\n\r\n// Cloud save functions begin down here :)\r\n// Credit to Jack on Newgrounds for doin' all this stuff! <3\r\n\r\nvar slots;\r\n\r\nvar slotLoadStatus = -1;\r\n\r\nfunction ng_loadSlots() {\r\n\tngio.callComponent('CloudSave.loadSlots', {}, onSlotsLoaded);\r\n\tif (slotLoadStatus == -1) slotLoadStatus = 0;\r\n}\r\n\r\nfunction ng_getSlotLoadStatus() {\r\n\treturn slotLoadStatus;\r\n}\r\n\r\nfunction onSlotsLoaded(result) {\r\n\tif (result.success) {\r\n\t\tslots = result.slots;\r\n\t\tslotLoadStatus = 1;\r\n\t\tconsole.log(\"Successfully loaded save slots!\");\r\n\t} else {\r\n\t\tconsole.log(\"LOADING ERROR: \", result.error.message);\r\n\t\tslotLoadStatus = -1;\r\n    }\r\n}\r\n\r\nfunction ng_loadSlot(slot_id) {\r\n\tfor (var i = 0; i < slots.length; i++) {\r\n\t\tslot = slots[i];\r\n\t\tif (slot.id == slot_id) {\r\n\t\t\tif (slot.url != null) {\r\n\t\t\t\treturn slot.url;\r\n\t\t\t} else {\r\n\t\t\t\treturn \"\";\r\n            }\r\n        }\r\n\t}\r\n}\r\n\r\nfunction ng_setData(save_data, slot_id) {\r\n\tngio.callComponent('CloudSave.setData', { data: save_data, id: slot_id }, function (result) {\r\n\t\tif (result.success) {\r\n\t\t\tconsole.log(result);\r\n\t\t} else {\r\n\t\t\tconsole.log(result.error.message);\r\n\t\t}\r\n\t});\r\n}"],"names":[],"mappings":"AAyCe,SAAS,cAAc,KAAK"}