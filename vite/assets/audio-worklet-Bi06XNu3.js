var K=Object.defineProperty;var E=(u,t,s)=>t in u?K(u,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[t]=s;var k=(u,t,s)=>E(u,typeof t!="symbol"?t+"":t,s);AudioWorkletProcessor.prototype._N=function(){this._O=!0,this.port.onmessage=u=>{u.data==="kill"&&(this._O=!1)}};class B extends AudioWorkletProcessor{static get parameterDescriptors(){return[{name:"bypass",automationRate:"a-rate",defaultValue:0,minValue:0,maxValue:1}]}constructor(){super(),this._N()}process(t,s,n){const _=t[0],l=n.bypass;for(let i=0;i<_.length;++i){const h=_[i];for(let r=0;r<h.length;++r){const f=l[r]!==void 0?l[r]:l[0];s[f][i][r]=h[r]}}return this._O}}class L extends AudioWorkletProcessor{static get parameterDescriptors(){return[{name:"gain",automationRate:"a-rate",defaultValue:1,minValue:0}]}constructor(){super(),this._N()}process(t,s,n){const _=t[0],l=t[1],i=s[0],h=n.gain;for(let r=0;r<l.length;++r){const f=l[r],c=i[r];for(let e=0;e<f.length;++e)c[e]=f[e]}for(let r=0;r<_.length;++r){const f=_[r],c=i[r];for(let e=0;e<f.length;++e){const m=h[e]!==void 0?h[e]:h[0];c[e]+=f[e]*m}}return this._O}}registerProcessor("audio-bus-input",B);registerProcessor("audio-bus-output",L);const F=class F extends AudioWorkletProcessor{static get parameterDescriptors(){return[{name:"bypass",automationRate:"a-rate",defaultValue:0,minValue:0,maxValue:1},{name:"gain",automationRate:"a-rate",defaultValue:1,minValue:0},{name:"factor",automationRate:"a-rate",defaultValue:20,minValue:1,maxValue:100},{name:"resolution",automationRate:"a-rate",defaultValue:8,minValue:2,maxValue:16},{name:"mix",automationRate:"a-rate",defaultValue:.8,minValue:0,maxValue:1}]}constructor(t){super(),this._N();const s=t.outputChannelCount[0];this._41=new Float32Array(s),this._51=new Uint32Array(s)}process(t,s,n){const _=t[0],l=s[0],i=n.bypass,h=n.gain,r=n.factor,f=n.resolution,c=n.mix;for(let e=0;e<_.length;++e){const m=_[e],o=l[e];for(let a=0;a<m.length;++a){o[a]=m[a],this._51[e]===0&&(this._41[e]=m[a]);const d=r[a]!==void 0?r[a]:r[0];if(++this._51[e],this._51[e]%=d,(i[a]!==void 0?i[a]:i[0])>0)continue;let p=this._41[e];const R=h[a]!==void 0?h[a]:h[0];p*=R,p=Math.max(Math.min(p,1),-1);const b=f[a]!==void 0?f[a]:f[0],y=p>0?F._11[b]-1:F._11[b];p=Math.round(p*y)/y;const P=c[a]!==void 0?c[a]:c[0];o[a]*=1-P,o[a]+=p*P}}return this._O}};k(F,"_11",[void 0,void 0,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768]);let C=F;registerProcessor("bitcrusher-processor",C);class Z{constructor(t=.001){this.setTime(t)}setTime(t){this._c1=Math.exp(-1/(t*sampleRate))}process(t,s){return t+this._c1*(s-t)}}class J{constructor(t,s){this._i1=new Z(t),this._j1=new Z(s),this._k1=t,this._l1=s}_m1(t){t!==this._k1&&(this._i1.setTime(t),this._k1=t)}_n1(t){t!==this._l1&&(this._j1.setTime(t),this._l1=t)}process(t,s){return t>s?this._i1.process(t,s):this._j1.process(t,s)}}class q extends AudioWorkletProcessor{static get parameterDescriptors(){return[{name:"bypass",automationRate:"a-rate",defaultValue:0,minValue:0,maxValue:1},{name:"ingain",automationRate:"a-rate",defaultValue:1,minValue:0},{name:"threshold",automationRate:"a-rate",defaultValue:.125,minValue:.001,maxValue:1},{name:"ratio",automationRate:"a-rate",defaultValue:4,minValue:1},{name:"attack",automationRate:"a-rate",defaultValue:.05,minValue:.001,maxValue:.1},{name:"release",automationRate:"a-rate",defaultValue:.25,minValue:.01,maxValue:1},{name:"outgain",automationRate:"a-rate",defaultValue:1,minValue:0}]}constructor(t){super(),this._N();const s=q.parameterDescriptors.find(_=>_.name==="attack"),n=q.parameterDescriptors.find(_=>_.name==="release");this._r1=new J(s.defaultValue,n.defaultValue),this._s1=0}process(t,s,n){const _=t[0],l=s[0],i=n.bypass,h=n.ingain,r=n.outgain,f=n.threshold,c=n.ratio,e=n.attack,m=n.release;if(_.length===0)return this._O;for(let o=0;o<_[0].length;++o){let a=_.map(w=>w[o]);l.forEach((w,T)=>{w[o]=a[T]});const d=h[o]!==void 0?h[o]:h[0];a=a.map(w=>w*=d);const g=a.map(w=>Math.abs(w)),p=Math.max(...g),R=N(p),b=f[o]!==void 0?f[o]:f[0],y=N(b),P=Math.max(0,R-y),j=e[o]!==void 0?e[o]:e[0],W=m[o]!==void 0?m[o]:m[0];if(this._r1._m1(j),this._r1._n1(W),this._s1=this._r1.process(P,this._s1),(i[o]!==void 0?i[o]:i[0])>0)continue;const S=c[o]!==void 0?c[o]:c[0],I=this._s1/S-this._s1,G=Y(I);a=a.map(w=>w*=G);const X=r[o]!==void 0?r[o]:r[0];a=a.map(w=>w*=X),l.forEach((w,T)=>{w[o]=a[T]})}return this._O}}function N(u){return 20*Math.log10(u)}function Y(u){return Math.pow(10,u/20)}registerProcessor("compressor-processor",q);const O=class O extends AudioWorkletProcessor{static get parameterDescriptors(){return[{name:"bypass",automationRate:"a-rate",defaultValue:0,minValue:0,maxValue:1},{name:"time",automationRate:"a-rate",defaultValue:.2,minValue:0,maxValue:O._K1},{name:"feedback",automationRate:"a-rate",defaultValue:.5,minValue:0,maxValue:1},{name:"mix",automationRate:"a-rate",defaultValue:.35,minValue:0,maxValue:1}]}constructor(t){super(),this._N();const s=t.outputChannelCount[0],n=O._K1*sampleRate+1;this.buffer=new Array(s),this._M1=new Uint32Array(s);for(let _=0;_<s;++_)this.buffer[_]=new Float32Array(n)}process(t,s,n){const _=t[0],l=s[0],i=n.bypass,h=n.time,r=n.feedback,f=n.mix;for(let c=0;c<_.length;++c){const e=_[c],m=l[c];for(let o=0;o<e.length;++o){m[o]=e[o];const a=h[o]!==void 0?h[o]:h[0],d=this._O1(c,a),g=r[o]!==void 0?r[o]:r[0],p=e[o]+d*g;if(this.write(c,p),(i[o]!==void 0?i[o]:i[0])>0)continue;const b=f[o]!==void 0?f[o]:f[0];m[o]*=1-b,m[o]+=d*b}}return this._O}_O1(t,s){const n=s*sampleRate;let _=this._M1[t]-~~n,l=_-1;for(;_<0;)_+=this.buffer[t].length;for(;l<0;)l+=this.buffer[t].length;const i=n-~~n,h=this.buffer[t][_],r=this.buffer[t][l];return h+(r-h)*i}write(t,s){++this._M1[t],this._M1[t]%=this.buffer[t].length,this.buffer[t][this._M1[t]]=s}};k(O,"_K1",5);let D=O;registerProcessor("delay-processor",D);class $ extends AudioWorkletProcessor{static get parameterDescriptors(){return[]}constructor(){super(),this._N()}process(t,s,n){const _=t[0],l=s[0],i=s[1];for(let h=0;h<_.length;++h){const r=_[h],f=l[h],c=i[h];for(let e=0;e<r.length;++e)f[e]=r[e],c[e]=r[e]}return this._O}}class v extends AudioWorkletProcessor{static get parameterDescriptors(){return[{name:"bypass",automationRate:"a-rate",defaultValue:0,minValue:0,maxValue:1}]}constructor(){super(),this._N()}process(t,s,n){const _=t[0],l=t[1],i=s[0],h=n.bypass;for(let r=0;r<l.length;++r){const f=_[r],c=l[r],e=i[r];for(let m=0;m<f.length;++m)(h[m]!==void 0?h[m]:h[0])>0?e[m]=c[m]:e[m]=f[m]}return this._O}}registerProcessor("eq-input",$);registerProcessor("eq-output",v);class z extends AudioWorkletProcessor{static get parameterDescriptors(){return[{name:"bypass",automationRate:"a-rate",defaultValue:0,minValue:0,maxValue:1},{name:"gain",automationRate:"a-rate",defaultValue:.5,minValue:0}]}constructor(){super(),this._N()}process(t,s,n){const _=t[0],l=s[0],i=n.bypass,h=n.gain;for(let r=0;r<_.length;++r){const f=_[r],c=l[r];for(let e=0;e<f.length;++e){if(c[e]=f[e],(i[e]!==void 0?i[e]:i[0])>0)continue;const o=h[e]!==void 0?h[e]:h[0];c[e]*=o}}return this._O}}registerProcessor("gain-processor",z);class H extends AudioWorkletProcessor{static get parameterDescriptors(){const t=sampleRate*.45;return[{name:"bypass",automationRate:"a-rate",defaultValue:0,minValue:0,maxValue:1},{name:"freq",automationRate:"a-rate",defaultValue:Math.min(5e3,t),minValue:10,maxValue:t},{name:"q",automationRate:"a-rate",defaultValue:1,minValue:1,maxValue:100},{name:"gain",automationRate:"a-rate",defaultValue:.01,minValue:1e-6}]}constructor(t){super(),this._N();const s=t.outputChannelCount[0];this._a2=0,this._b2=0,this._c2=0,this._d2=0,this._e2=0,this._f2=new Float32Array(s),this._g2=new Float32Array(s),this._h2=new Float32Array(s),this._i2=new Float32Array(s),this._j2=-1,this._k2=-1,this._l2=-1}process(t,s,n){const _=t[0],l=s[0],i=n.bypass,h=n.freq,r=n.q,f=n.gain,c=h.length===1&&r.length===1&&f.length===1;c&&this._n2(h[0],r[0],f[0]);for(let e=0;e<_.length;++e){const m=_[e],o=l[e];for(let a=0;a<m.length;++a){if(c===!1){const p=h[a]!==void 0?h[a]:h[0],R=r[a]!==void 0?r[a]:r[0],b=f[a]!==void 0?f[a]:f[0];this._n2(p,R,b)}const d=this._c2*m[a]+this._d2*this._f2[e]+this._e2*this._g2[e]-this._a2*this._h2[e]-this._b2*this._i2[e];this._g2[e]=this._f2[e],this._f2[e]=m[a],this._i2[e]=this._h2[e],this._h2[e]=d;const g=i[a]!==void 0?i[a]:i[0];o[a]=g>0?m[a]:d}}return this._O}_n2(t,s,n){if(t===this._j2&&s===this._k2&&n===this._l2)return;const _=2*Math.PI*t/sampleRate,l=Math.cos(_),i=Math.sqrt(n),h=i+1,r=i-1,f=h*l,c=r*l,e=h-c,m=h+c,o=Math.sin(_)/(2*s),a=2*Math.sqrt(i)*o,d=e+a,g=2*(r-f),p=e-a,R=i*(m+a),b=-2*i*(r+f),y=i*(m-a);this._a2=g/d,this._b2=p/d,this._c2=R/d,this._d2=b/d,this._e2=y/d,this._j2=t,this._k2=s,this._l2=n}}registerProcessor("hi-shelf-processor",H);class Q extends AudioWorkletProcessor{static get parameterDescriptors(){const t=sampleRate*.45;return[{name:"bypass",automationRate:"a-rate",defaultValue:0,minValue:0,maxValue:1},{name:"cutoff",automationRate:"a-rate",defaultValue:Math.min(1500,t),minValue:10,maxValue:t},{name:"q",automationRate:"a-rate",defaultValue:1.5,minValue:1,maxValue:100}]}constructor(t){super(),this._N();const s=t.outputChannelCount[0];this._a2=0,this._b2=0,this._c2=0,this._d2=0,this._e2=0,this._f2=new Float32Array(s),this._g2=new Float32Array(s),this._h2=new Float32Array(s),this._i2=new Float32Array(s),this._G2=-1,this._k2=-1}process(t,s,n){const _=t[0],l=s[0],i=n.bypass,h=n.cutoff,r=n.q,f=h.length===1&&r.length===1;f&&this._n2(h[0],r[0]);for(let c=0;c<_.length;++c){const e=_[c],m=l[c];for(let o=0;o<e.length;++o){if(f===!1){const g=h[o]!==void 0?h[o]:h[0],p=r[o]!==void 0?r[o]:r[0];this._n2(g,p)}const a=this._c2*e[o]+this._d2*this._f2[c]+this._e2*this._g2[c]-this._a2*this._h2[c]-this._b2*this._i2[c];this._g2[c]=this._f2[c],this._f2[c]=e[o],this._i2[c]=this._h2[c],this._h2[c]=a;const d=i[o]!==void 0?i[o]:i[0];m[o]=d>0?e[o]:a}}return this._O}_n2(t,s){if(t===this._G2&&s===this._k2)return;const n=2*Math.PI*t/sampleRate,_=Math.sin(n)/(2*s),l=Math.cos(n),i=1+_,h=-2*l,r=1-_,f=(1+l)/2,c=-1-l,e=(1+l)/2;this._a2=h/i,this._b2=r/i,this._c2=f/i,this._d2=c/i,this._e2=e/i,this._G2=t,this._k2=s}}registerProcessor("hpf2-processor",Q);class tt extends AudioWorkletProcessor{static get parameterDescriptors(){const t=sampleRate*.45;return[{name:"bypass",automationRate:"a-rate",defaultValue:0,minValue:0,maxValue:1},{name:"freq",automationRate:"a-rate",defaultValue:Math.min(500,t),minValue:10,maxValue:t},{name:"q",automationRate:"a-rate",defaultValue:1,minValue:1,maxValue:100},{name:"gain",automationRate:"a-rate",defaultValue:.01,minValue:1e-6}]}constructor(t){super(),this._N();const s=t.outputChannelCount[0];this._a2=0,this._b2=0,this._c2=0,this._d2=0,this._e2=0,this._f2=new Float32Array(s),this._g2=new Float32Array(s),this._h2=new Float32Array(s),this._i2=new Float32Array(s),this._j2=-1,this._k2=-1,this._l2=-1}process(t,s,n){const _=t[0],l=s[0],i=n.bypass,h=n.freq,r=n.q,f=n.gain,c=h.length===1&&r.length===1&&f.length===1;c&&this._n2(h[0],r[0],f[0]);for(let e=0;e<_.length;++e){const m=_[e],o=l[e];for(let a=0;a<m.length;++a){if(c===!1){const p=h[a]!==void 0?h[a]:h[0],R=r[a]!==void 0?r[a]:r[0],b=f[a]!==void 0?f[a]:f[0];this._n2(p,R,b)}const d=this._c2*m[a]+this._d2*this._f2[e]+this._e2*this._g2[e]-this._a2*this._h2[e]-this._b2*this._i2[e];this._g2[e]=this._f2[e],this._f2[e]=m[a],this._i2[e]=this._h2[e],this._h2[e]=d;const g=i[a]!==void 0?i[a]:i[0];o[a]=g>0?m[a]:d}}return this._O}_n2(t,s,n){if(t===this._j2&&s===this._k2&&n===this._l2)return;const _=2*Math.PI*t/sampleRate,l=Math.cos(_),i=Math.sqrt(n),h=i+1,r=i-1,f=h*l,c=r*l,e=h-c,m=h+c,o=Math.sin(_)/(2*s),a=2*Math.sqrt(i)*o,d=m+a,g=-2*(r+f),p=m-a,R=i*(e+a),b=2*i*(r-f),y=i*(e-a);this._a2=g/d,this._b2=p/d,this._c2=R/d,this._d2=b/d,this._e2=y/d,this._j2=t,this._k2=s,this._l2=n}}registerProcessor("lo-shelf-processor",tt);class st extends AudioWorkletProcessor{static get parameterDescriptors(){const t=sampleRate*.45;return[{name:"bypass",automationRate:"a-rate",defaultValue:0,minValue:0,maxValue:1},{name:"cutoff",automationRate:"a-rate",defaultValue:Math.min(500,t),minValue:10,maxValue:t},{name:"q",automationRate:"a-rate",defaultValue:1.5,minValue:1,maxValue:100}]}constructor(t){super(),this._N();const s=t.outputChannelCount[0];this._a2=0,this._b2=0,this._c2=0,this._d2=0,this._e2=0,this._f2=new Float32Array(s),this._g2=new Float32Array(s),this._h2=new Float32Array(s),this._i2=new Float32Array(s),this._G2=-1,this._k2=-1}process(t,s,n){const _=t[0],l=s[0],i=n.bypass,h=n.cutoff,r=n.q,f=h.length===1&&r.length===1;f&&this._n2(h[0],r[0]);for(let c=0;c<_.length;++c){const e=_[c],m=l[c];for(let o=0;o<e.length;++o){if(f===!1){const g=h[o]!==void 0?h[o]:h[0],p=r[o]!==void 0?r[o]:r[0];this._n2(g,p)}const a=this._c2*e[o]+this._d2*this._f2[c]+this._e2*this._g2[c]-this._a2*this._h2[c]-this._b2*this._i2[c];this._g2[c]=this._f2[c],this._f2[c]=e[o],this._i2[c]=this._h2[c],this._h2[c]=a;const d=i[o]!==void 0?i[o]:i[0];m[o]=d>0?e[o]:a}}return this._O}_n2(t,s){if(t===this._G2&&s===this._k2)return;const n=2*Math.PI*t/sampleRate,_=Math.sin(n)/(2*s),l=Math.cos(n),i=1+_,h=-2*l,r=1-_,f=(1-l)/2,c=1-l,e=(1-l)/2;this._a2=h/i,this._b2=r/i,this._c2=f/i,this._d2=c/i,this._e2=e/i,this._G2=t,this._k2=s}}registerProcessor("lpf2-processor",st);class et extends AudioWorkletProcessor{static get parameterDescriptors(){const t=sampleRate*.45;return[{name:"bypass",automationRate:"a-rate",defaultValue:0,minValue:0,maxValue:1},{name:"freq",automationRate:"a-rate",defaultValue:Math.min(1500,t),minValue:10,maxValue:t},{name:"q",automationRate:"a-rate",defaultValue:1,minValue:1,maxValue:100},{name:"gain",automationRate:"a-rate",defaultValue:.01,minValue:1e-6}]}constructor(t){super(),this._N();const s=t.outputChannelCount[0];this._a2=0,this._b2=0,this._c2=0,this._d2=0,this._e2=0,this._f2=new Float32Array(s),this._g2=new Float32Array(s),this._h2=new Float32Array(s),this._i2=new Float32Array(s),this._j2=-1,this._k2=-1,this._l2=-1}process(t,s,n){const _=t[0],l=s[0],i=n.bypass,h=n.freq,r=n.q,f=n.gain,c=h.length===1&&r.length===1&&f.length===1;c&&this._n2(h[0],r[0],f[0]);for(let e=0;e<_.length;++e){const m=_[e],o=l[e];for(let a=0;a<m.length;++a){if(c===!1){const p=h[a]!==void 0?h[a]:h[0],R=r[a]!==void 0?r[a]:r[0],b=f[a]!==void 0?f[a]:f[0];this._n2(p,R,b)}const d=this._c2*m[a]+this._d2*this._f2[e]+this._e2*this._g2[e]-this._a2*this._h2[e]-this._b2*this._i2[e];this._g2[e]=this._f2[e],this._f2[e]=m[a],this._i2[e]=this._h2[e],this._h2[e]=d;const g=i[a]!==void 0?i[a]:i[0];o[a]=g>0?m[a]:d}}return this._O}_n2(t,s,n){if(t===this._j2&&s===this._k2&&n===this._l2)return;const _=2*Math.PI*t/sampleRate,l=Math.cos(_),i=Math.sqrt(n),h=Math.sin(_)/(2*s),r=h/i,f=h*i,c=1+r,e=-2*l,m=1-r,o=1+f,a=e,d=1-f;this._a2=e/c,this._b2=m/c,this._c2=o/c,this._d2=a/c,this._e2=d/c,this._j2=t,this._k2=s,this._l2=n}}registerProcessor("peak-eq-processor",et);class nt{constructor(t){this._P2=0,this._Q2=0,this.feedback=0,this._R2=0,this.buffer=new Float32Array(t),this._S2=0}process(t){const s=this.buffer[this._S2];return this._R2=this._R2*this._P2+s*this._Q2,this.buffer[this._S2]=t+this._R2*this.feedback,++this._S2,this._S2%=this.buffer.length,s}_T2(t){this.feedback=Math.min(Math.max(0,t),1)}_V2(t){this._P2=Math.min(Math.max(0,t),1),this._Q2=1-this._P2}}class at{constructor(t){this.feedback=0,this.buffer=new Float32Array(t),this._S2=0}process(t){const s=this.buffer[this._S2];return this.buffer[this._S2]=t+s*this.feedback,++this._S2,this._S2%=this.buffer.length,s-t}_T2(t){this.feedback=Math.min(Math.max(0,t),1)}}const V=class V extends AudioWorkletProcessor{static get parameterDescriptors(){return[{name:"bypass",automationRate:"a-rate",defaultValue:0,minValue:0,maxValue:1},{name:"size",automationRate:"a-rate",defaultValue:.7,minValue:0,maxValue:1},{name:"damp",automationRate:"a-rate",defaultValue:.1,minValue:0,maxValue:1},{name:"mix",automationRate:"a-rate",defaultValue:.35,minValue:0,maxValue:1}]}constructor(t){super(),this._N();const s=t.outputChannelCount[0];this._83=-1,this._93=-1,this._a3=new Array(s),this._b3=new Array(s);const n=[V._43,V._53],_=[V._63,V._73];for(let l=0;l<s;++l){this._a3[l]=new Array(V._Z2),this._b3[l]=new Array(V.__2);for(let i=0;i<V._Z2;++i)this._a3[l][i]=new nt(n[l%n.length][i]);for(let i=0;i<V.__2;++i)this._b3[l][i]=new at(_[l%_.length][i])}this._e3(.5),this._V2(.5);for(let l=0;l<s;++l)for(let i=0;i<V.__2;++i)this._b3[l][i]._T2(.5)}process(t,s,n){const _=t[0],l=s[0],i=n.bypass,h=n.size,r=n.damp,f=n.mix;for(let c=0;c<_.length;++c){const e=_[c],m=l[c];for(let o=0;o<e.length;++o){const a=h[o]!==void 0?h[o]:h[0],d=r[o]!==void 0?r[o]:r[0];this._e3(a),this._V2(d),m[o]=e[o];let g=0;const p=e[o]*V._03;for(let y=0;y<V._Z2;++y)g+=this._a3[c][y].process(p);for(let y=0;y<V.__2;++y)g=this._b3[c][y].process(g);if((i[o]!==void 0?i[o]:i[0])>0)continue;const b=f[o]!==void 0?f[o]:f[0];m[o]*=1-b,m[o]+=g*b}}return this._O}_e3(t){if(t===this._83)return;const s=t*V._23+V._33;for(let n=0;n<this._a3.length;++n)for(let _=0;_<V._Z2;++_)this._a3[n][_]._T2(s);this._83=t}_V2(t){if(t===this._93)return;const s=t*V._13;for(let n=0;n<this._a3.length;++n)for(let _=0;_<V._Z2;++_)this._a3[n][_]._V2(s);this._93=t}};k(V,"_Z2",8),k(V,"__2",4),k(V,"_03",.015),k(V,"_13",.4),k(V,"_23",.28),k(V,"_33",.7),k(V,"_43",[1116,1188,1277,1356,1422,1491,1557,1617]),k(V,"_53",[1139,1211,1300,1379,1445,1514,1580,1640]),k(V,"_63",[556,441,341,225]),k(V,"_73",[579,464,364,248]);let U=V;registerProcessor("reverb1-processor",U);class it extends AudioWorkletProcessor{static get parameterDescriptors(){return[{name:"bypass",automationRate:"a-rate",defaultValue:0,minValue:0,maxValue:1},{name:"rate",automationRate:"a-rate",defaultValue:5,minValue:0,maxValue:20},{name:"intensity",automationRate:"a-rate",defaultValue:1,minValue:0,maxValue:1},{name:"offset",automationRate:"a-rate",defaultValue:0,minValue:0,maxValue:1},{name:"shape",automationRate:"a-rate",defaultValue:0,minValue:0,maxValue:4}]}constructor(t){super(),this._N();const s=t.outputChannelCount[0];this._i3=new Array(s).fill(1),this._j3=new Array(s).fill(0),this._k3=new Array(s).fill(M._m3._n3),this._o3=new Array(s);for(let n=0;n<s;++n)this._o3[n]=new x,this._o3[n]._q3(sampleRate),this._o3[n]._r3(this._i3[n]),this._o3[n]._s3(this._k3[n]),n%2===1&&this._o3[n]._t3(this._j3[n])}process(t,s,n){const _=t[0],l=s[0],i=n.bypass,h=n.rate,r=n.intensity,f=n.offset,c=n.shape;for(let e=0;e<_.length;++e){const m=_[e],o=l[e];for(let a=0;a<m.length;++a){o[a]=m[a];const d=h[a]!==void 0?h[a]:h[0],g=f[a]!==void 0?f[a]:f[0],p=c[a]!==void 0?c[a]:c[0];this._w3(e,d,g,p);const R=this._o3[e]._O1();if((i[a]!==void 0?i[a]:i[0])>0)continue;const y=r[a]!==void 0?r[a]:r[0],P=m[a]*R*y;o[a]*=1-y,o[a]+=P}}return this._O}_w3(t,s,n,_){s!==this._i3[t]&&(this._o3[t]._r3(s),this._i3[t]=s),n!==this._j3[t]&&(t%2===1&&this._o3[t]._t3(n),this._j3[t]=n),_!==this._k3[t]&&(this._o3[t]._s3(_),this._k3[t]=_)}}registerProcessor("tremolo-processor",it);function M(){}M._m3={_n3:0,_B3:1,_C3:2,_D3:3,_E3:4,_F3:5};M._G3=function(u){return 1-u};M._I3=function(u){return u};M._J3=function(u){return .5*(Math.sin(u*2*Math.PI-Math.PI/2)+1)};M._K3=function(u){return u<.5?0:1};M._L3=function(u){return u<.5?2*u:2-2*u};M._M3=[M._G3,M._I3,M._J3,M._K3,M._L3];A._O3=512;A._P3=1/A._O3;function A(u){this.data=new Float32Array(A._O3);for(let t=0;t<A._O3;++t)this.data[t]=u(t*A._P3)}A.prototype._O1=function(u){u=Math.max(0,u),u=Math.min(u,1);const t=u*A._O3,s=~~t,n=t-s;let _=s,l=_+1;_>=A._O3&&(_-=A._O3),l>=A._O3&&(l-=A._O3);const i=this.data[_],h=this.data[l];return i+(h-i)*n};x._U3=[];x._V3=!1;x._W3=0;x._92=20;function x(){if(this._X3=48e3,this.shape=M._m3._C3,this.freq=1,this._Y3=0,this._P3=0,this._Z3=0,x._V3!=!0){for(let u=0;u<M._m3._F3;++u)x._U3[u]=new A(M._M3[u]);x._V3=!0}}x.__3=function(){return x._V3==!0};x.prototype._q3=function(u){this._X3=u,this._14()};x.prototype._r3=function(u){u=Math.max(x._W3,u),u=Math.min(u,x._92),this.freq=u,this._14()};x.prototype._t3=function(u){u=Math.max(0,u),u=Math.min(u,1);const t=u-this._Z3;for(this._Z3=u,this._Y3+=t;this._Y3>=1;)this._Y3-=1;for(;this._Y3<0;)this._Y3+=1};x.prototype._s3=function(u){u=Math.max(0,u),u=Math.min(u,M._m3._F3-1),this.shape=u};x.prototype._O1=function(){const u=x._U3[this.shape]._O1(this._Y3);for(this._Y3+=this._P3;this._Y3>=1;)this._Y3-=1;return u};x.prototype._14=function(){this._P3=this.freq/this._X3};
//# sourceMappingURL=audio-worklet-Bi06XNu3.js.map
